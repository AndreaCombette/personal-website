<script> (function () {
  // Get the canvas and context
  const canvas = document.getElementById('planetCanvas');
  const ctx = canvas.getContext('2d');

  // Set the canvas size to the window's inner dimensions
  let width = canvas.width = window.innerWidth;
  let height = canvas.height = window.innerHeight;

  // Update canvas dimensions on resize
  window.addEventListener('resize', function () {
    width = canvas.width = window.innerWidth;
    height = canvas.height = window.innerHeight;
  });

  // Track scroll offset for a parallax effect
  let scrollOffset = 0;
  window.addEventListener('scroll', function () {
    scrollOffset = window.pageYOffset;
  });

  // Define a simple planet simulation with a central star and orbiting planets
  const planets = [
    {
      orbitRadius: 80,
      size: 8,
      speed: 0.02,
      angle: Math.random() * Math.PI * 2,
      color: '#FF4500' // A red-orange planet
    },
    {
      orbitRadius: 150,
      size: 12,
      speed: 0.015,
      angle: Math.random() * Math.PI * 2,
      color: '#1E90FF' // A blue planet
    },
    {
      orbitRadius: 220,
      size: 10,
      speed: 0.012,
      angle: Math.random() * Math.PI * 2,
      color: '#32CD32' // A green planet
    }
  ];

  // The draw function, which updates and renders the simulation
  function draw() {
    // Clear the canvas
    ctx.clearRect(0, 0, width, height);

    // Use the scroll offset to slightly shift the simulation's vertical center
    const centerX = width / 2;
    const centerY = height / 2 + scrollOffset * 0.1; // adjust multiplier for more/less parallax

    // Draw the central star
    ctx.beginPath();
    ctx.arc(centerX, centerY, 20, 0, Math.PI * 2);
    ctx.fillStyle = 'yellow';
    ctx.fill();

    // For each planet, update its position and draw its orbit and the planet itself
    planets.forEach(planet => {
      // Update the planet's angle based on its speed
      planet.angle += planet.speed;

      // Calculate the planet's position
      const x = centerX + planet.orbitRadius * Math.cos(planet.angle);
      const y = centerY + planet.orbitRadius * Math.sin(planet.angle);

      // (Optional) Draw the orbit path for a minimal guide
      ctx.beginPath();
      ctx.arc(centerX, centerY, planet.orbitRadius, 0, Math.PI * 2);
      ctx.strokeStyle = 'rgba(255, 255, 255, 0.1)';
      ctx.lineWidth = 1;
      ctx.stroke();

      // Draw the planet
      ctx.beginPath();
      ctx.arc(x, y, planet.size, 0, Math.PI * 2);
      ctx.fillStyle = planet.color;
      ctx.fill();
    });

    // Loop the animation
    requestAnimationFrame(draw);
  }

  // Start the animation
  draw();
})();
</script>