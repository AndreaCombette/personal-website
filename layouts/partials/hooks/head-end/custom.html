<script> document.addEventListener("DOMContentLoaded", function () {
  // Find the target container by its classes.
  // The colon in "dark:text-white" is escaped with a backslash if needed.
  const container = document.querySelector('.home-section-bg.bg-image');

  if (!container) {
    console.error("Target container not found.");
    return;
  }

  // Create a canvas element
  const canvas = document.createElement("canvas");
  canvas.id = "planetCanvas";

  // Apply inline styles so it sits in the top right corner.
  // Alternatively, you can use CSS if you prefer.
  canvas.style.position = "absolute";
  canvas.style.top = "0";
  canvas.style.right = "0";
  canvas.style.width = "300px";  // Adjust width as needed
  canvas.style.height = "300px"; // Adjust height as needed
  canvas.style.pointerEvents = "none"; // Allow interactions with underlying elements
  canvas.style.backgroundColor = "transparent"; // Make the canvas transparent
  // Ensure the parent container is positioned relative (if not already)
  container.style.position = "relative";

  // Append the canvas to the container
  container.appendChild(canvas);

  // Now run the planet simulation code on the canvas
  initPlanetSimulation();
});
function initPlanetSimulation() {
  const canvas = document.getElementById('planetCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');

  // Set the canvas dimensions based on its offset sizes
  let width = canvas.width = canvas.offsetWidth;
  let height = canvas.height = canvas.offsetHeight;

  // Update canvas dimensions on window resize, if needed
  window.addEventListener('resize', function () {
    width = canvas.width = canvas.offsetWidth;
    height = canvas.height = canvas.offsetHeight;
  });

  // Calculate the center of the canvas (for our simulation)
  const centerX = width ;
  const centerY = height / 2;

  // Define some planets with orbit properties
  const planets = [
    {
      orbitRadius: 40,
      size: 5,
      speed: 0.03,
      angle: Math.random() * Math.PI * 2,
      color: '#FF4500' // Red-orange planet
    },
    {
      orbitRadius: 70,
      size: 7,
      speed: 0.02,
      angle: Math.random() * Math.PI * 2,
      color: '#1E90FF' // Blue planet
    },
    {
      orbitRadius: 100,
      size: 6,
      speed: 0.015,
      angle: Math.random() * Math.PI * 2,
      color: '#32CD32' // Green planet
    }
  ];

  // Draw and animate the simulation
  function draw() {
    // Clear the canvas
    ctx.clearRect(0, 0, width, height);

    // Draw the central star
    ctx.beginPath();
    ctx.arc(centerX, centerY, 10, 0, Math.PI * 2);
    ctx.fillStyle = 'yellow';
    ctx.fill();

    // For each planet, update its position and draw its orbit and planet
    planets.forEach(planet => {
      // Update planet angle
      planet.angle += planet.speed;

      // Calculate planet position relative to the center
      const x = centerX + planet.orbitRadius * Math.cos(planet.angle);
      const y = centerY + planet.orbitRadius * Math.sin(planet.angle);

      // (Optional) Draw the orbit path (faint circle)
      ctx.beginPath();
      ctx.arc(centerX, centerY, planet.orbitRadius, 0, Math.PI * 2);
      ctx.strokeStyle = 'rgba(255, 255, 255, 0.8)';
      ctx.lineWidth = 1;
      ctx.stroke();

      // Draw the planet
      ctx.beginPath();
      ctx.arc(x, y, planet.size, 0, Math.PI * 2);
      ctx.fillStyle = planet.color;
      ctx.fill();
    });

    // Continue the animation loop
    requestAnimationFrame(draw);
  }

  // Start the simulation
  draw();
}
</script>